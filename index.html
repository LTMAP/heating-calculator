<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–µ–ø–ª–æ–≥–æ –ø–æ–ª–∞</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .calculator-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        header {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .calculator-content {
            padding: 30px;
        }
        
        .step {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        
        .step-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
        }
        
        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .option-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option-card:hover {
            border-color: #3498db;
        }
        
        .option-card.selected {
            border-color: #3498db;
            background-color: #ebf5fb;
        }
        
        .option-card h3 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        
        .option-card p {
            color: #666;
            margin-bottom: 5px;
        }
        
        .option-card .power-info {
            font-size: 14px;
            color: #3498db;
            font-weight: bold;
        }
        
        .dimensions-input {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .dimension {
            display: flex;
            flex-direction: column;
        }
        
        .dimension label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #555;
        }
        
        .dimension input {
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        
        .area-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        
        .area-info p {
            margin: 5px 0;
            font-weight: 500;
        }
        
        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin: 20px 0;
        }
        
        .calculate-btn:hover {
            background: #2980b9;
        }
        
        .results-container {
            margin-top: 30px;
        }
        
        .result-card {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
            background: white;
        }
        
        .result-card.optimal {
            border-color: #27ae60;
            background-color: #f0fff4;
        }
        
        .result-card.alternative {
            border-color: #f39c12;
            background-color: #fef9e7;
        }
        
        .result-card h4 {
            font-size: 20px;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        
        .result-item {
            padding: 10px;
        }
        
        .result-item strong {
            color: #555;
        }
        
        .warning {
            background: #fee;
            color: #c0392b;
            padding: 15px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #c0392b;
        }
        
        .power-warning {
            background: #fff3cd;
            color: #856404;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            border-left: 4px solid #ffc107;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .dimensions-input {
                grid-template-columns: 1fr;
            }
            
            .options-grid {
                grid-template-columns: 1fr;
            }
            
            .calculator-content {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-container">
        <header>
            <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–¥–±–æ—Ä–∞ —Ç–µ–ø–ª–æ–≥–æ –ø–æ–ª–∞</h1>
            <p>–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è –≤–∞—à–µ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è</p>
        </header>
        
        <div class="calculator-content">
            <div class="step">
                <div class="step-title">
                    <span class="step-number">1</span>
                    –û—Ü–µ–Ω–∏—Ç–µ —É—Ç–µ–ø–ª–µ–Ω–∏–µ –ø–æ–º–µ—â–µ–Ω–∏—è
                </div>
                <div class="options-grid" id="insulation-options">
                    <div class="option-card selected" data-value="low">
                        <h3>–ù–∏–∑–∫–æ–µ —É—Ç–µ–ø–ª–µ–Ω–∏–µ</h3>
                        <p>–ë–∞–ª–∫–æ–Ω, –ª–æ–¥–∂–∏—è, —Å—Ç–∞—Ä—ã–π –¥–æ–º</p>
                        <div class="power-info">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: –æ—Ç 200 –í—Ç/–º¬≤</div>
                    </div>
                    <div class="option-card" data-value="medium">
                        <h3>–°—Ä–µ–¥–Ω–µ–µ —É—Ç–µ–ø–ª–µ–Ω–∏–µ</h3>
                        <p>–ì–æ—Ä–æ–¥—Å–∫–∞—è –∫–≤–∞—Ä—Ç–∏—Ä–∞</p>
                        <div class="power-info">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: 180-200 –í—Ç/–º¬≤</div>
                    </div>
                    <div class="option-card" data-value="high">
                        <h3>–í—ã—Å–æ–∫–æ–µ —É—Ç–µ–ø–ª–µ–Ω–∏–µ</h3>
                        <p>–ù–æ–≤–æ—Å—Ç—Ä–æ–π–∫–∞, —É—Ç–µ–ø–ª–µ–Ω–Ω—ã–π –¥–æ–º</p>
                        <div class="power-info">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –º–æ—â–Ω–æ—Å—Ç—å: 140-180 –í—Ç/–º¬≤</div>
                    </div>
                </div>
            </div>
            
            <div class="step">
                <div class="step-title">
                    <span class="step-number">2</span>
                    –†–∞–∑–º–µ—Ä—ã –ø–æ–º–µ—â–µ–Ω–∏—è
                </div>
                <div class="dimensions-input">
                    <div class="dimension">
                        <label for="room-length">–î–ª–∏–Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏—è (–º)</label>
                        <input type="number" id="room-length" min="1" max="20" step="0.1" value="4.5">
                    </div>
                    <div class="dimension">
                        <label for="room-width">–®–∏—Ä–∏–Ω–∞ –ø–æ–º–µ—â–µ–Ω–∏—è (–º)</label>
                        <input type="number" id="room-width" min="1" max="20" step="0.1" value="3.2">
                    </div>
                </div>
                <div class="area-info">
                    <p>–û–±—â–∞—è –ø–ª–æ—â–∞–¥—å: <span id="total-area">14.4</span> –º¬≤</p>
                    <p>–ü–æ–ª–µ–∑–Ω–∞—è –ø–ª–æ—â–∞–¥—å (90%): <span id="effective-area">12.96</span> –º¬≤</p>
                </div>
            </div>
            
            <button class="calculate-btn" id="calculate-btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å</button>
            
            <div class="results-container" id="results-container">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <footer>
            <p>–†–∞—Å—á–µ—Ç —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–º. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø–æ–¥–±–æ—Ä–∞ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.</p>
        </footer>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–µ–π
        const models = [
            {name: '–¢–ö–°-01', power: 230, powerM2: 460, area: 0.5, width: 1, length: 0.5},
            {name: '–¢–ö–°-02', power: 180, powerM2: 360, area: 0.5, width: 1, length: 0.5},
            {name: '–¢–ö–°-03', power: 180, powerM2: 250, area: 0.72, width: 1, length: 0.72},
            {name: '–¢–ö–°-04', power: 160, powerM2: 213, area: 0.75, width: 1, length: 0.75},
            {name: '–¢–ö–°-05', power: 140, powerM2: 165, area: 0.85, width: 1, length: 0.85},
            {name: '–¢–ö–°-06', power: 140, powerM2: 140, area: 1, width: 1, length: 1},
            {name: '–¢–ö–°-07', power: 100, powerM2: 71, area: 1.4, width: 1, length: 1.4},
            {name: '–¢–ö–°-08', power: 180, powerM2: 257, area: 0.7, width: 0.7, length: 1},
            {name: '–¢–ö–°-09', power: 150, powerM2: 214, area: 0.7, width: 0.7, length: 1},
            {name: '–¢–ö–°-10', power: 150, powerM2: 185, area: 0.81, width: 0.7, length: 1.15},
            {name: '–¢–ö–°-11', power: 145, powerM2: 188, area: 0.77, width: 0.7, length: 1.1},
            {name: '–¢–ö–°-12', power: 140, powerM2: 200, area: 0.7, width: 0.7, length: 1},
            {name: '–¢–ö–°-13', power: 140, powerM2: 154, area: 0.91, width: 0.7, length: 1.3},
            {name: '–¢–ö–°-14', power: 120, powerM2: 143, area: 0.84, width: 0.7, length: 1.2}
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–±–æ—Ä–∞ –æ–ø—Ü–∏–π
            setupOptionSelection('insulation-options');
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∏
            document.getElementById('room-length').addEventListener('input', updateArea);
            document.getElementById('room-width').addEventListener('input', updateArea);
            
            // –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
            document.getElementById('calculate-btn').addEventListener('click', calculate);
            
            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç
            updateArea();
        });

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—ã–±–æ—Ä–∞ –æ–ø—Ü–∏–π
        function setupOptionSelection(containerId) {
            const options = document.querySelectorAll(`#${containerId} .option-card`);
            options.forEach(option => {
                option.addEventListener('click', function() {
                    options.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∏
        function updateArea() {
            const length = parseFloat(document.getElementById('room-length').value) || 0;
            const width = parseFloat(document.getElementById('room-width').value) || 0;
            const totalArea = length * width;
            const effectiveArea = totalArea * 0.9;
            
            document.getElementById('total-area').textContent = totalArea.toFixed(2);
            document.getElementById('effective-area').textContent = effectiveArea.toFixed(2);
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
        function getSelectedValue(containerId) {
            const selected = document.querySelector(`#${containerId} .option-card.selected`);
            return selected ? selected.getAttribute('data-value') : null;
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–∫–ª–∞–¥–∫–∏
        function checkFit(model, roomLength, roomWidth, sectionsNeeded) {
            const maxPower = 3360;
            const totalPower = sectionsNeeded * model.power;
            
            if (totalPower > maxPower) {
                return { fits: false, reason: `–ü—Ä–µ–≤—ã—à–µ–Ω–∞ –º–æ—â–Ω–æ—Å—Ç—å (${totalPower} –í—Ç > ${maxPower} –í—Ç)` };
            }
            
            return { fits: true, totalPower };
        }

        // –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞—Å—á–µ—Ç
        function calculate() {
            const insulation = getSelectedValue('insulation-options');
            const roomLength = parseFloat(document.getElementById('room-length').value);
            const roomWidth = parseFloat(document.getElementById('room-width').value);
            const usableArea = (roomLength * roomWidth) * 0.9;
            
            if (!roomLength || !roomWidth) {
                showError('–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ–º–µ—â–µ–Ω–∏—è');
                return;
            }
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π –ø–æ —É—Ç–µ–ø–ª–µ–Ω–∏—é
            const suitableModels = models.filter(model => {
                if (insulation === 'low' && model.powerM2 >= 200) return true;
                if (insulation === 'medium' && model.powerM2 >= 180 && model.powerM2 <= 200) return true;
                if (insulation === 'high' && model.powerM2 >= 140 && model.powerM2 <= 180) return true;
                return false;
            }).sort((a, b) => b.powerM2 - a.powerM2);
            
            // –ü–æ–∏—Å–∫ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –º–æ–¥–µ–ª–µ–π
            const results = [];
            for (const model of suitableModels) {
                const sectionsNeeded = Math.ceil(usableArea / model.area);
                const fitCheck = checkFit(model, roomLength, roomWidth, sectionsNeeded);
                
                if (fitCheck.fits) {
                    results.push({ 
                        model, 
                        sectionsNeeded, 
                        coverage: sectionsNeeded * model.area, 
                        totalPower: fitCheck.totalPower 
                    });
                }
                
                if (results.length >= 3) break;
            }
            
            displayResults(results, roomLength, roomWidth, usableArea, insulation);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
        function showError(message) {
            const container = document.getElementById('results-container');
            container.innerHTML = `<div class="warning">${message}</div>`;
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function displayResults(results, roomLength, roomWidth, usableArea, insulation) {
            const container = document.getElementById('results-container');
            
            if (results.length === 0) {
                showError('–ù–µ –Ω–∞–π–¥–µ–Ω–æ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è —É—Ç–µ–ø–ª–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫—Ä–∏—Ç–µ—Ä–∏–∏.');
                return;
            }
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—Å—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è —É—Ç–µ–ø–ª–µ–Ω–∏—è
            let insulationText = '';
            switch(insulation) {
                case 'low': insulationText = '–Ω–∏–∑–∫–æ–º—É —É—Ç–µ–ø–ª–µ–Ω–∏—é'; break;
                case 'medium': insulationText = '—Å—Ä–µ–¥–Ω–µ–º—É —É—Ç–µ–ø–ª–µ–Ω–∏—é'; break;
                case 'high': insulationText = '–≤—ã—Å–æ–∫–æ–º—É —É—Ç–µ–ø–ª–µ–Ω–∏—é'; break;
            }
            
            let html = `<div class="step-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –ø–æ–º–µ—â–µ–Ω–∏—è ${roomLength}–º √ó ${roomWidth}–º (${insulationText})</div>`;
            
            results.forEach((result, index) => {
                const isOptimal = index === 0;
                const model = result.model;
                
                html += `
                    <div class="result-card ${isOptimal ? 'optimal' : 'alternative'}">
                        <h4>${isOptimal ? 'üöÄ –û–ü–¢–ò–ú–ê–õ–¨–ù–´–ô –í–ê–†–ò–ê–ù–¢' : 'üí° –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê'}: ${model.name}</h4>
                        <div class="result-grid">
                            <div class="result-item"><strong>–ú–æ—â–Ω–æ—Å—Ç—å –Ω–∞ –º¬≤:</strong> ${model.powerM2} –í—Ç/–º¬≤</div>
                            <div class="result-item"><strong>–ú–æ—â–Ω–æ—Å—Ç—å —Å–µ–∫—Ü–∏–∏:</strong> ${model.power} –í—Ç</div>
                            <div class="result-item"><strong>–°–µ–∫—Ü–∏–π —Ç—Ä–µ–±—É–µ—Ç—Å—è:</strong> ${result.sectionsNeeded} —à—Ç.</div>
                            <div class="result-item"><strong>–ü–æ–∫—Ä—ã–≤–∞–µ–º–∞—è –ø–ª–æ—â–∞–¥—å:</strong> ${result.coverage.toFixed(2)} –º¬≤</div>
                            <div class="result-item"><strong>–û–±—â–∞—è –º–æ—â–Ω–æ—Å—Ç—å:</strong> ${result.totalPower} –í—Ç</div>
                            <div class="result-item"><strong>–†–∞–∑–º–µ—Ä —Å–µ–∫—Ü–∏–∏:</strong> ${model.width}–º √ó ${model.length}–º</div>
                        </div>
                        ${result.totalPower > 2500 ? 
                            `<div class="power-warning">‚ö†Ô∏è –ú–æ—â–Ω–æ—Å—Ç—å –±–ª–∏–∑–∫–∞ –∫ –ø—Ä–µ–¥–µ–ª—å–Ω–æ–π. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–∫–∏.</div>` : ''}
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
    </script>
</body>
</html>